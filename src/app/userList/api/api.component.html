<div>
  <button
    (click)="modalOpenToggle()"
    class="button_settings"
  >
  </button>
  <div>

    <button
      class="button_delete"
      *ngIf="deleteButton()"
      (click)="deleteItem()"
    >
      <img src="assets/images/userList/api/trashbin.svg">
      удалить выбранное
    </button>
  </div>
  <ul class="list">
    <li
      class="listItem"
      *ngFor="let item of listFilms"
    >
      <div
        *ngIf="filterList(item.viewed)"
      >
        <label>
          <input
            class="check__input"
            type="checkbox"
            (checked)=item.checked
            (click)="checkboxToggle(item.id)"
          >
          <div class="checkbox"></div>
        </label>
        <a
          routerLink="/about-film"
          [queryParams]="{
          'title' : 'Star Wars. Episode ' + item.episode_id + ': ' + item.title ,
          'viewed' : (item.viewed===true)?'banner__button_view_off':'banner__button_view_on',
          'date': item.release_date,
          'rating': item.rating,
          'banner': item.id
          }"
        >
          <span
            class="listItem_title"
          >Star Wars. Episode {{ item.episode_id }}: {{ item.title }}
        </span>
        </a>
        <span>{{ item.release_date }}</span>
        <button
          [class]="this.getButtonView(item.viewed)"
          onclick="this.className = (this.className == 'button_view_off' ? 'button_view_on' : 'button_view_off')"
          (click)="this.buttonViewToggle(item.id)"
        >
        </button>
        <button
          class="button_rate"
          onclick="if(this.className == 'button_rate') {this.className = 'button_rate_click'; setTimeout(() => {this.className = 'button_rate';}, 150);} else this.className='button_rate'"
          (click)="buttonRateClick(item.id)"
          title="Press to add rating. Now rating is {{ item.rating }}"
        >
          <img
            src="./assets/images/banner/star.png"
            alt="star"
          >
          Оценить
        </button>
      </div>
    </li>
  </ul>
  <app-modal
    (onChangedFilterReset)="onChangedFilterReset($event)"
    (onChangedFilterViewed)="onChangedFilterViewed($event)"
    (onChangedFilterNotViewed)="onChangedFilterNotViewed($event)"
    [filter1]="filterviewed"
    [filter2]="filternotviewed"
    *ngIf="modalOpen"
    class="modal_block"
  >
  </app-modal>
</div>

